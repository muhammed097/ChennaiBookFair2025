<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events Page</title>
    <style>
       * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            background: #f5f5f5;
        }

        .main-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 30px;
        }

        .header {
            grid-column: 1 / -1;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #205798;
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 16px;
            margin-left: 27%;
        }

        .tabs {
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
            margin-bottom: 20px;
            margin-left: 27%;
        }

        .tabs a {
            text-decoration: none;
            color: #666;
            padding: 10px 0;
            margin-right: 5px;
            font-size: 16px;
        }

        .tabs span {
            color: #666;
            margin: 0 10px;
        }

        .tabs a.active {
            color: #205798;
            border-bottom: 2px solid #205798;
            padding-bottom: 8px;
        }

        .filter-section {
            background: white;
            padding: 20px;
            height: fit-content;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .filter-section h3 {
            color: #205798;
            font-size: 20px;
            margin-bottom: 20px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            color: #205798;
            font-size: 16px;
            display: block;
            margin-bottom: 10px;
        }

        .dropdown-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .dropdown {
            width: 100%;
            padding: 8px;
            border: 1px solid #E5E5E5;
            border-radius: 4px;
            font-size: 14px;
            color: #333;
        }

        .content-section {
            min-height: 500px;
            display: flex;
            flex-direction: column;
            padding-left: 30px;
            width: 100%;
        }

        .results-info {
            margin-bottom: 20px;
            color: #666;
            font-size: 14px;
        }

        .events-list {
            display: flex;
            flex-direction: column;
            gap: 30px;
            flex-grow: 1;
        }

        .event-card {
            display: grid;
    grid-template-columns: 240px 1fr;
    height: auto; /* Let it adjust to content */
    border: 1px solid #ddd;
    overflow: hidden;
    transition: transform 0.3s ease;
    background: white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .event-image {
            width: 240px;  /* Updated from 300px */
            height: 300px;  /* Updated from 200px */
            object-fit: cover;
        }

        .event-content {
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 12px; /* Added consistent gap between elements */
}
        

        .event-content h3 {
            color: #205798;
    font-size: 16px;
    line-height: 1.4;
    margin: 0; /* Removed margin */
        }

        .event-description {
            color: #666;
    font-size: 14px;
    line-height: 1.5;
    margin: 0; /* Removed margin */ 
        }

        .event-date {
            color: #666;
    font-size: 14px;
    margin: 0; /* Removed margin */
        }

        .event-buttons {
            display: flex;
    gap: 10px;
    margin-top: 12px; 
        }

        .event-button {
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .register-button {
            background-color: #205798;
            color: white;
            border: none;
        }

        .register-button:hover {
            background-color: #1a3366;
        }

        .calendar-button {
            background-color: white;
            color: #205798;
            border: 1px solid #205798;
        }

        .calendar-button:hover {
            background-color: #f0f0f0;
        }

        .pagination {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 30px;
            padding: 20px 0;
        }

        .pagination button {
            padding: 8px 12px;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
            border-radius: 4px;
            min-width: 40px;
            font-size: 14px;
        }

        .pagination button:hover {
            background: #f5f5f5;
        }

        .pagination button.active {
            background: #205798;
            color: white;
            border-color: #205798;
        }

        .no-events {
            text-align: center;
            padding: 40px;
            color: #666;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .main-container {
                grid-template-columns: 1fr;
            }

            .content-section {
                padding-left: 0;
            }

            .filter-section {
                margin-bottom: 20px;
            }

            .event-card {
                width: 240px;  /* Updated from 430px */
                height: 477px;
                display: flex;
                flex-direction: column;
                background: white;
                border-radius: 8px;
                overflow: hidden;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }

            .event-image {
                width: 100%;
                height: 300px;  /* Maintained at 300px */
                object-fit: cover;
            }

            .events-list {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));  /* Updated from 430px */
                gap: 30px;
                padding: 20px 0;
                justify-items: center;
            }

            .dropdown-group {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="main-container">
        <div class="header">
            <h1>Events</h1>
            <div class="tabs">
                <a href="#" data-tab="upcoming">Upcoming Events</a>
                <span>|</span>
                <a href="#" class="active" data-tab="past">Past Events</a>
            </div>
        </div>

        <div class="filter-section">
            <h3>Filter by search</h3>
            <div class="date-inputs">
                <div class="input-group">
                    <label>From</label>
                    <div class="dropdown-group">
                        <select id="fromYear" class="dropdown">
                            <option value="">Year</option>
                        </select>
                        <select id="fromMonth" class="dropdown">
                            <option value="">Month</option>
                        </select>
                    </div>
                </div>
                <div class="input-group">
                    <label>To</label>
                    <div class="dropdown-group">
                        <select id="toYear" class="dropdown">
                            <option value="">Year</option>
                        </select>
                        <select id="toMonth" class="dropdown">
                            <option value="">Month</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-section">
            <div class="results-info">1-2 of 60 items</div>
            <div class="events-list" id="eventsList">
                <!-- Events will be populated by JavaScript -->
            </div>

            <div class="pagination" id="pagination">
                <!-- Pagination will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Sample events data
        const eventsData = [
            {
                id: 1,
                title: "Web Development Workshop",
                description: "Learn the latest web development technologies and best practices.",
                date: "2024-08-19",
                image: "https://images.pexels.com/photos/1563356/pexels-photo-1563356.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
            },
            {
                id: 2,
                title: "AI Conference 2024",
                description: "Explore the future of artificial intelligence and machine learning.",
                date: "2024-09-15",
                image: "/api/placeholder/400/320"
            },
            {
                id: 3,
                title: "Digital Marketing Summit",
                description: "Master digital marketing strategies for business growth.",
                date: "2024-10-01",
                image: "/api/placeholder/400/320"
            },
            {
                id: 4,
                title: "UX Design Masterclass",
                description: "Create better user experiences with proven design principles.",
                date: "2024-10-15",
                image: "/api/placeholder/400/320"
            },
            {
                id: 5,
                title: "Data Science Bootcamp",
                description: "Intensive training in data analysis and machine learning.",
                date: "2024-11-01",
                image: "/api/placeholder/400/320"
            }
        ];

        // Global variables
        let currentPage = 1;
        const eventsPerPage = 2;
        let filteredEvents = [...eventsData];
        let currentTab = 'upcoming';

        // Format date for display
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                day: 'numeric',
                month: 'long',
                year: 'numeric'
            });
        }

        // Populate dropdowns
        function populateDropdowns() {
            const months = [
                'January', 'February', 'March', 'April', 'May', 'June',
                'July', 'August', 'September', 'October', 'November', 'December'
            ];

            const currentYear = new Date().getFullYear();
            const yearSelects = document.querySelectorAll('select[id$="Year"]');
            const monthSelects = document.querySelectorAll('select[id$="Month"]');

            yearSelects.forEach(select => {
                for (let i = currentYear - 5; i <= currentYear + 5; i++) {
                    const option = document.createElement('option');
                    option.value = i;
                    option.textContent = i;
                    select.appendChild(option);
                }
            });

            monthSelects.forEach(select => {
                months.forEach((month, index) => {
                    const option = document.createElement('option');
                    option.value = index + 1;
                    option.textContent = month;
                    select.appendChild(option);
                });
            });
        }

        // Filter events
        function filterEvents() {
            const fromMonth = document.getElementById('fromMonth').value;
            const fromYear = document.getElementById('fromYear').value;
            const toMonth = document.getElementById('toMonth').value;
            const toYear = document.getElementById('toYear').value;

            const today = new Date();

            filteredEvents = eventsData.filter(event => {
                const eventDate = new Date(event.date);
                let passesDateFilter = true;
                let passesTabFilter = true;

                if (fromMonth && fromYear) {
                    const fromDate = new Date(fromYear, fromMonth - 1);
                    passesDateFilter = passesDateFilter && eventDate >= fromDate;
                }
                if (toMonth && toYear) {
                    const toDate = new Date(toYear, toMonth - 1);
                    passesDateFilter = passesDateFilter && eventDate <= toDate;
                }

                if (currentTab === 'upcoming') {
                    passesTabFilter = eventDate >= today;
                } else {
                    passesTabFilter = eventDate < today;
                }

                return passesDateFilter && passesTabFilter;
            });

            currentPage = 1;
            renderEvents();
            renderPagination();
            updateResultsInfo();
        }

        // Update results info
        function updateResultsInfo() {
            const startIndex = (currentPage - 1) * eventsPerPage + 1;
            const endIndex = Math.min(startIndex + eventsPerPage - 1, filteredEvents.length);
            const total = filteredEvents.length;

            document.querySelector('.results-info').textContent =
                `${startIndex}-${endIndex} of ${total} items`;
        }

        // Register for event
        function registerEvent(eventId) {
            const event = eventsData.find(e => e.id === eventId);
            if (event) {
                alert(`Registration started for: ${event.title}`);
                // Add your registration logic here
            }
        }

        // Add to calendar
        function addToCalendar(eventId) {
            const event = eventsData.find(e => e.id === eventId);
            if (event) {
                const eventDate = new Date(event.date);
                const endDate = new Date(eventDate);
                endDate.setHours(eventDate.getHours() + 2); // Assuming 2-hour duration

                const googleCalendarUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(event.title)}&dates=${eventDate.toISOString().replace(/-|:|\.\d\d\d/g, '')}/${endDate.toISOString().replace(/-|:|\.\d\d\d/g, '')}&details=${encodeURIComponent(event.description)}`;

                window.open(googleCalendarUrl, '_blank');
            }
        }

        // Render events
        function renderEvents() {
            const eventsList = document.getElementById('eventsList');
            const startIndex = (currentPage - 1) * eventsPerPage;
            const endIndex = startIndex + eventsPerPage;
            const eventsToShow = filteredEvents.slice(startIndex, endIndex);

            eventsList.innerHTML = '';

            if (eventsToShow.length === 0) {
                eventsList.innerHTML = '<div class="no-events">No events found</div>';
                return;
            }

            eventsToShow.forEach(event => {
                const eventCard = `
                    <div class="event-card">
                        <img src="${event.image}" alt="${event.title}" class="event-image">
                        <div class="event-content">
                            <h3>${event.title}</h3>
                            <p class="event-description">${event.description}</p>
                            <div class="event-date">${formatDate(event.date)}</div>
                            <div class="event-buttons">
                                <button class="event-button register-button" onclick="registerEvent(${event.id})">Register Now</button>
                                <button class="event-button calendar-button" onclick="addToCalendar(${event.id})">Add to Calendar</button>
                            </div>
                        </div>
                    </div>
                `;
                eventsList.innerHTML += eventCard;
            });
        }

        // Render pagination
        function renderPagination() {
            const pagination = document.getElementById('pagination');
            const totalPages = Math.ceil(filteredEvents.length / eventsPerPage);

            pagination.innerHTML = '';

            if (totalPages <= 1) return;

            for (let i = 1; i <= totalPages; i++) {
                const button = document.createElement('button');
                button.textContent = i;
                button.classList.toggle('active', i === currentPage);
                button.addEventListener('click', () => {
                    currentPage = i;
                    renderEvents();
                    renderPagination();
                    updateResultsInfo();
                });
                pagination.appendChild(button);
            }

            if (totalPages > 1) {
                const nextButton = document.createElement('button');
                nextButton.textContent = '→';
                nextButton.addEventListener('click', () => {
                    if (currentPage < totalPages) {
                        currentPage++;
                        renderEvents();
                        renderPagination();
                        updateResultsInfo();
                    }
                });
                pagination.appendChild(nextButton);
            }
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function () {
            populateDropdowns();

            // Add event listeners for filters
            document.querySelectorAll('select').forEach(select => {
                select.addEventListener('change', filterEvents);
            });

            // Add event listeners for tabs
            document.querySelectorAll('.tabs a').forEach(tab => {
                tab.addEventListener('click', (e) => {
                    e.preventDefault();
                    document.querySelectorAll('.tabs a').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    currentTab = tab.dataset.tab;
                    filterEvents();
                });
            });

            filterEvents();
        });
    </script>
</body>

</html>